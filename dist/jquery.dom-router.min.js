/*
 *  jquery-dom-router - v1.0.0
 *  Fire JavaScript based on body classes. Based off the DOM router in the Sage WordPress Theme.
 *  http://jqueryboilerplate.com
 *
 *  Made by Tor Morten Jensen
 *  Under MIT License
 */
!function(a){a.fn.watch||a.fn.unwatch||(a.fn.watch=function(b,c){return this.each(function(){var d=this,e=d[b];a(d).data("watch_timer",setInterval(function(){d[b]!==e&&(c.call(d,b,e,d[b]),e=d[b])},100))})},a.fn.unwatch=function(){return this.each(function(){clearInterval(a(this).data("watch_timer"))})}),a.DOMRouter||(a.DOMRouter={router:function(b,c){var d=this;d.$el=a(b),d.el=b,d.$el.data("DOMRouter.router",d),d.init=function(){d.routes=c,a(document).ready(d.load);var b=d.classes();a(document).find("body").watch("className",function(c,e,f){var g=f.replace(/-/g,"_").split(/\s+/);a.each(g,function(a,c){d.routeExists(c,b)||d.fire(c)})})},d.routeExists=function(a,b){return b.indexOf(a)>-1},d.classes=function(){return document.body.className.replace(/-/g,"_").split(/\s+/)},d.load=function(){d.fire("common"),a.each(d.classes(),function(a,b){d.fire(b)})},d.fire=function(a,b){var c,e=d.routes;c=""!==a,c=c&&e[a],c=c&&"function"==typeof e[a],c&&e[a](b)},d.init()}}),a.fn.router=function(b){return this.each(function(){new a.DOMRouter.router(this,b)})}}(jQuery);